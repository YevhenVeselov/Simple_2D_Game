parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"epB2":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=a();return function(){var i,h=o(t);if(e){var s=o(this).constructor;i=Reflect.construct(h,arguments,s)}else i=h.apply(this,arguments);return r(this,i)}}function r(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?n(t):i}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){for(var i=0;i<e.length;i++){var h=e[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function u(t,e,i){return e&&m(t.prototype,e),i&&m(t,i),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.addEventListener("load",function(){var e=document.getElementById("canvas1"),h=e.getContext("2d");e.width=1e3,e.height=500;var r=u(function t(e){var i=this;d(this,t),this.game=e,window.addEventListener("keydown",function(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||-1!==i.game.keys.indexOf(t.key)?" "===t.key?i.game.player.shootTop():"d"===t.key&&(i.game.debug=!i.game.debug):i.game.keys.push(t.key)}),window.addEventListener("keyup",function(t){i.game.keys.indexOf(t.key)>-1&&i.game.keys.splice(i.game.keys.indexOf(t.key),1)})}),n=function(){function t(e,i,h){d(this,t),this.game=e,this.x=i,this.y=h,this.width=10,this.height=3,this.speed=3,this.markedForDeletion=!1,this.image=document.getElementById("projectile")}return u(t,[{key:"update",value:function(){this.x+=this.speed,this.x>.8*this.game.width&&(this.markedForDeletion=!0)}},{key:"draw",value:function(t){t.drawImage(this.image,this.x,this.y)}}]),t}(),a=function(){function t(e,i,h){d(this,t),this.game=e,this.x=i,this.y=h,this.image=document.getElementById("gears"),this.frameX=Math.floor(3*Math.random()),this.frameY=Math.floor(3*Math.random()),this.spriteSize=50,this.sizeModifier=(.5*Math.random()+.5).toFixed(1),this.size=this.spriteSize*this.sizeModifier,this.speedX=6*Math.random()-3,this.speedY=-15*Math.random(),this.gravity=.5,this.markedForDeletion=!1,this.angel=0,this.va=.2*Math.random()-.1,this.bounced=0,this.bottomBounceBondary=80*Math.random()+60}return u(t,[{key:"update",value:function(){this.angel+=this.va,this.speedY+=this.gravity,this.x-=this.speedX+this.game.speed,this.y+=this.speedY,(this.y>this.game.height+this.size||this.x<0-this.size)&&(this.markedForDeletion=!0),this.y>this.game.height-this.bottomBounceBondary&&this.bounced<5&&(this.bounced++,this.speedY*=-.7)}},{key:"draw",value:function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.angel),t.drawImage(this.image,this.frameX*this.spriteSize,this.frameY*this.spriteSize,this.spriteSize,this.spriteSize,-.5*this.size,-.5*this.size,this.size,this.size),t.restore()}}]),t}(),o=function(){function t(e){d(this,t),this.game=e,this.width=120,this.height=190,this.x=20,this.y=100,this.frameX=0,this.frameY=0,this.maxFrame=37,this.speedY=0,this.maxSpeed=3,this.projectiles=[],this.image=document.getElementById("player"),this.powerUp=!1,this.powerUpTimer=0,this.powerUpLimit=1e4}return u(t,[{key:"update",value:function(t){this.game.keys.includes("ArrowUp")?this.speedY=-this.maxSpeed:this.game.keys.includes("ArrowDown")?this.speedY=this.maxSpeed:this.speedY=0,this.y+=this.speedY,this.y>this.game.height-.5*this.height?this.y=this.game.height-.5*this.height:this.y<.5*-this.height&&(this.y=.5*-this.height),this.projectiles.forEach(function(t){t.update()}),this.projectiles=this.projectiles.filter(function(t){return!t.markedForDeletion}),this.frameX<this.maxFrame?this.frameX++:this.frameX=0,this.powerUp&&(this.powerUpTimer>this.powerUpLimit?(this.powerUpTimer=0,this.powerUp=!1,this.frameY=0):(this.powerUpTimer+=t,this.frameY=1,this.game.ammo+=.1))}},{key:"draw",value:function(t){this.game.debug&&t.strokeRect(this.x,this.y,this.width,this.height),this.projectiles.forEach(function(e){e.draw(t)}),t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"shootTop",value:function(){this.game.ammo>0&&(this.projectiles.push(new n(this.game,this.x+80,this.y+30)),this.game.ammo--),this.powerUp&&this.shootBottom()}},{key:"shootBottom",value:function(){this.game.ammo>0&&this.projectiles.push(new n(this.game,this.x+80,this.y+175))}},{key:"enterPowerUp",value:function(){this.powerUpTimer=0,this.powerUp=!0,this.game.ammo<this.game.maxAmmo&&(this.game.ammo=this.game.maxAmmo)}}]),t}(),m=function(){function t(e){d(this,t),this.game=e,this.x=this.game.width,this.speedX=-1.5*Math.random()-.5,this.markedForDeletion=!1,this.frameX=0,this.frameY=0,this.maxFrame=37}return u(t,[{key:"update",value:function(){this.x+=this.speedX-this.game.speed,this.x+this.width<0&&(this.markedForDeletion=!0),this.frameX<this.maxFrame?this.frameX++:this.frameX=0}},{key:"draw",value:function(t){t.font="20px Bangers",this.game.debug&&t.strokeRect(this.x,this.y,this.width,this.height),t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.game.debug&&t.fillText(this.lives,this.x,this.y)}}]),t}(),c=function(t){i(h,m);var e=s(h);function h(t){var i;return d(this,h),(i=e.call(this,t)).width=228,i.height=169,i.y=Math.random()*(.9*i.game.height-i.height),i.image=document.getElementById("angler1"),i.frameY=Math.floor(3*Math.random()),i.lives=5,i.score=i.lives,i}return u(h)}(),l=function(t){i(h,m);var e=s(h);function h(t){var i;return d(this,h),(i=e.call(this,t)).width=213,i.height=165,i.y=Math.random()*(.95*i.game.height-i.height),i.image=document.getElementById("angler2"),i.frameY=Math.floor(2*Math.random()),i.lives=6,i.score=i.lives,i}return u(h)}(),f=function(t){i(h,m);var e=s(h);function h(t){var i;return d(this,h),(i=e.call(this,t)).width=99,i.height=95,i.y=Math.random()*(.95*i.game.height-i.height),i.image=document.getElementById("lucky"),i.frameY=Math.floor(2*Math.random()),i.lives=5,i.score=15,i.type="lucky",i}return u(h)}(),g=function(t){i(h,m);var e=s(h);function h(t){var i;return d(this,h),(i=e.call(this,t)).width=400,i.height=227,i.y=Math.random()*(.95*i.game.height-i.height),i.image=document.getElementById("hivewhale"),i.frameY=0,i.lives=20,i.score=i.lives,i.type="hive",i.speedX=-1.2*Math.random()-.2,i}return u(h)}(),p=function(t){i(h,m);var e=s(h);function h(t,i,s){var r;return d(this,h),(r=e.call(this,t)).width=115,r.height=95,r.x=i,r.y=s,r.image=document.getElementById("drone"),r.frameY=Math.floor(2*Math.random()),r.lives=3,r.score=r.lives,r.type="drone",r.speedX=-4.2*Math.random()-.5,r}return u(h)}(),y=function(){function t(e,i,h){d(this,t),this.game=e,this.image=i,this.speedModifier=h,this.width=1768,this.height=500,this.x=0,this.y=0}return u(t,[{key:"update",value:function(){this.x<=-this.width?this.x=0:this.x-=this.game.speed*this.speedModifier}},{key:"draw",value:function(t){t.drawImage(this.image,this.x,this.y),t.drawImage(this.image,this.x+this.width,this.y)}}]),t}(),w=function(){function t(e){d(this,t),this.game=e,this.image1=document.getElementById("layer1"),this.image2=document.getElementById("layer2"),this.image3=document.getElementById("layer3"),this.image4=document.getElementById("layer4"),this.layer1=new y(this.game,this.image1,.2),this.layer2=new y(this.game,this.image2,.4),this.layer3=new y(this.game,this.image3,1),this.layer4=new y(this.game,this.image4,1.5),this.layers=[this.layer1,this.layer2,this.layer3]}return u(t,[{key:"update",value:function(){this.layers.forEach(function(t){return t.update()})}},{key:"draw",value:function(t){this.layers.forEach(function(e){return e.draw(t)})}}]),t}(),v=function(){function t(e,i,h){d(this,t),this.game=e,this.frameX=0,this.spriteWidth=200,this.spriteHeight=200,this.width=this.spriteWidth,this.height=this.spriteHeight,this.x=i-.5*this.width,this.y=h-.5*this.height,this.fps=30,this.timer=0,this.interval=1e3/this.fps,this.markedForDeletion=!1,this.maxFrame=8}return u(t,[{key:"update",value:function(t){this.x-=this.game.speed,this.timer>this.interval?(this.frameX++,this.timer=0):this.timer+=t,this.frameX>this.maxFrame&&(this.markedForDeletion=!0)}},{key:"draw",value:function(t){t.drawImage(this.image,this.frameX*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}]),t}(),x=function(t){i(h,v);var e=s(h);function h(t,i,s){var r;return d(this,h),(r=e.call(this,t,i,s)).image=document.getElementById("smokeExplosion"),r}return u(h)}(),k=function(t){i(h,v);var e=s(h);function h(t,i,s){var r;return d(this,h),(r=e.call(this,t,i,s)).image=document.getElementById("fireExplosion"),r}return u(h)}(),b=function(){function t(e){d(this,t),this.game=e,this.fontSize=25,this.fontFamily="Bangers",this.color="white"}return u(t,[{key:"draw",value:function(t){t.save(),t.fillStyle=this.color,t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowColor="black",t.font=this.fontSize+"px"+this.fontFamily,t.fillText("Score: "+this.game.score,20,40);var e,i,h=(.001*this.game.gameTimer).toFixed(1);(t.fillText("Timer: "+h,20,100),this.game.gameOver)&&(t.textAlign="center",this.game.score>this.game.winningScore?(e="You win!",i="Well done!"):(e="You lose!",i="Try again next time!"),t.font="80px "+this.fontFamily,t.fillText(e,.5*this.game.width,.5*this.game.height-20),t.font="25px "+this.fontFamily,t.fillText(i,.5*this.game.width,.5*this.game.height+20));this.game.player.powerUp&&(t.fillStyle="#ffffbd");for(var s=0;s<this.game.ammo;s++)t.fillRect(20+5*s,50,3,20);t.restore()}}]),t}(),E=new(function(){function t(e,i){d(this,t),this.width=e,this.height=i,this.background=new w(this),this.player=new o(this),this.input=new r(this),this.ui=new b(this),this.keys=[],this.enemies=[],this.particles=[],this.explotions=[],this.enemyTimer=0,this.enemyInterval=2e3,this.ammo=20,this.maxAmmo=50,this.ammoTimer=0,this.ammoInterval=350,this.gameOver=!1,this.score=0,this.winningScore=100,this.gameTimer=0,this.timeLimit=3e4,this.speed=1,this.debug=!1}return u(t,[{key:"update",value:function(t){var e=this;this.gameOver||(this.gameTimer+=t),this.gameTimer>this.timeLimit&&(this.gameOver=!0),this.background.update(),this.background.layer4.update(),this.player.update(t),this.ammoTimer>this.ammoInterval?(this.ammo<this.maxAmmo&&this.ammo++,this.ammoTimer=0):this.ammoTimer+=t,this.particles.forEach(function(t){return t.update()}),this.particles=this.particles.filter(function(t){return!t.markedForDeletion}),this.explotions.forEach(function(e){return e.update(t)}),this.explotions=this.explotions.filter(function(t){return!t.markedForDeletion}),this.enemies.forEach(function(t){if(t.update(),e.checkCollision(e.player,t)){t.markedForDeletion=!0,e.addExplosion(t);for(var i=0;i<t.score;i++)e.particles.push(new a(e,t.x+.5*t.width,t.y+0*t.height,5));"lucky"===t.type?e.player.enterPowerUp():e.gameOver||e.score--}e.player.projectiles.forEach(function(i){if(e.checkCollision(i,t)&&(t.lives--,i.markedForDeletion=!0,e.particles.push(new a(e,t.x+.5*t.width,t.y+0*t.height,5)),t.lives<=0)){for(var h=0;h<t.score;h++)e.particles.push(new a(e,t.x+.5*t.width,t.y+0*t.height,5));if(t.markedForDeletion=!0,e.addExplosion(t),"hive"===t.type)for(var s=0;s<5;s++)e.enemies.push(new p(e,t.x+Math.random()*t.width,t.y+Math.random()*t.height*.5));e.score+=t.score,e.gameOver||(e.score+=t.score),e.score>e.winningScore&&(e.gameOver=!0)}})}),this.enemies=this.enemies.filter(function(t){return!t.markedForDeletion}),this.enemyTimer>this.enemyInterval&&!this.gameOver?(this.addEnemy(),this.enemyTimer=0):this.enemyTimer+=t}},{key:"draw",value:function(t){this.background.draw(t),this.ui.draw(t),this.player.draw(t),this.particles.forEach(function(e){return e.draw(t)}),this.enemies.forEach(function(e){e.draw(t)}),this.explotions.forEach(function(e){e.draw(t)}),this.background.layer4.draw(t)}},{key:"addEnemy",value:function(){var t=Math.random();t<.3?this.enemies.push(new c(this)):t<.6?this.enemies.push(new l(this)):t<.7?this.enemies.push(new g(this)):this.enemies.push(new f(this))}},{key:"addExplosion",value:function(t){Math.random()<.5?this.explotions.push(new x(this,t.x+.5*t.width,t.y+.5*t.height)):this.explotions.push(new k(this,t.x+.5*t.width,t.y+.5*t.height))}},{key:"checkCollision",value:function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}}]),t}())(e.width,e.height),M=0;!function i(s){var r=s-M;M=s,h.clearRect(0,0,e.width,e.height),E.update(r),E.draw(h),t.requestAnimationFrame(i)}(0)});
},{}]},{},["epB2"], null)
//# sourceMappingURL=main.f1af81a3.js.map